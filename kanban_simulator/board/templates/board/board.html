<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Board</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    {% block styles %}
        {% load static %}
        <link rel="stylesheet" href="{% static 'board/css/style.css' %}">
        <link rel="stylesheet" href="{% static 'board/css/styles.css' %}">
    {% endblock %}

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js" type="text/javascript"></script>

    <script src="{% static 'board/js/cards.js' %}"></script>
    <script src="{% static 'board/js/players.js' %}"></script>
    <script src="{% static 'board/js/game.js' %}"></script>


</head>
<body class="bg-dark">

    <div class="container-fluid bg-dark">
        <header class="d-flex flex-wrap justify-content-center py-3 mb-0 border-bottom">
            <a href="{% url 'board:home' %}" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-light text-decoration-none">
<!--            <svg class="bi me-2" width="40" height="32"><use xlink:href="#"/></svg>-->
            <span class="fs-4">Kanban Simulator</span>
            </a>

            <div class="d-grid gap-2 d-md-block">
                <a class="btn btn-outline-primary" href="{% url 'board:home' %}" role="button">Домой</a>
                <button class="btn btn-outline-light" data-clipboard-text="http://127.0.0.1:8000{% url 'board:joinGame' player.pk %}">Скопировать ссылку</button>

                <button type="button" class="btn btn-outline-info" data-bs-toggle="modal" data-bs-target="#RulesModal">Правила игры</button>
            </div>

            <div class="modal fade" id="RulesModal" tabindex="-1" aria-labelledby="RulesModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="RulesModalLabel">Правила игры</h5>
                        </div>
                        <div class="modal-body">
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры
                            Тут должны быть правила игры


                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                        </div>
                    </div>
                </div>
            </div>



        <!--
        <ul class="nav nav-pills">


        <li class="nav-item"><button type="button" class="btn btn-outline-primary active">Домой</button></li>

        <li class="nav-item"><button type="button" class="btn btn-outline-info">Скопировать ссылку</button></li>

        <li class="nav-item"><button type="button" class="btn btn-outline-info">Правила игры</button></li>

        <li class="nav-item"><button type="button" class="btn btn-outline-info">О нас</button></li>

        </ul>
        -->
        <!--
        <ul class="nav nav-pills">
        <li class="nav-item"><a href="#" class="nav-link active" aria-current="page">Home</a></li>
        <li class="nav-item"><a href="#" class="nav-link btn btn-primary">Features</a></li>
        <li class="nav-item"><a href="#" class="nav-link btn btn-primary">Pricing</a></li>
        <li class="nav-item"><a href="#" class="nav-link btn btn-primary">FAQs</a></li>
        <li class="nav-item"><a href="#" class="nav-link btn btn-primary" role="button">About</a></li>
        </ul>
        -->

        </header>
    </div>

    <nav class="navbar navbar-expand-md navbar-light rounded-top" style="background-color: #20c997" aria-label="Fourth navbar example">
    <div class="container">

        <div class="collapse navbar-collapse" id="navbarsExample04">
            <ul class="navbar-nav me-auto mb-2 mb-md-0">

                <li class="nav-item dropdown pe-2">
                    <button type="button" class="btn btn-outline-light text-dark">Начать день</button>
                </li>

                <li class="nav-item text-dark d-flex align-items-center">
                    <div class="nav-link text-dark"><i class="bi bi-calendar-week pe-2"></i>День #</div>
                </li>

                <li class="nav-item text-dark d-flex align-items-center">
                    <div class="nav-link text-dark"><i class="bi bi-clock pe-2"></i>Время: 12:42:03</div>
                </li>

            </ul>

            <ul class="navbar-nav mx-auto mb-2 mb-md-0" id="header_container">
                <li class="anl_player players" id="anl_player0"></li>
                <li class="anl_player players" id="anl_player1"></li>

                <li class="dev_player players" id="dev_player2"></li>
                <li class="dev_player players" id="dev_player3"></li>
                <li class="dev_player players" id="dev_player4"></li>

                <li class="tst_player players" id="tst_player5"></li>
                <li class="tst_player players" id="tst_player6"></li>
            </ul>

            <ul class="navbar-nav ms-auto mb-2 mb-md-0">

                <li class="nav-item dropdown pe-2">
                    <a class="nav-link dropdown-toggle" href="#" id="dropdown04" data-bs-toggle="dropdown" aria-expanded="false">Настройки</a>
                    <ul class="dropdown-menu" aria-labelledby="dropdown04" style="background-color: #4fd1c5">
                        <li><a class="dropdown-item" href="#">edit WIP limits</a></li>
                        <li><a class="dropdown-item" href="#">Another action</a></li>
                        <li><a class="dropdown-item" href="#">Something else here</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown pe-2">
                    <button class="btn btn-outline-secondary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">Статистика</button>


                    <div class="offcanvas offcanvas-end " tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
                        <div class="offcanvas-header border-bottom">
                            <h5 id="offcanvasRightLabel">Здесь должно быть какое-то меню</h5>
                            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Закрыть"></button>
                        </div>
                        <div class="offcanvas-body">
                            <p>Игрок №1 - Чел1</p>
                            <p>Игрок №2 - Чел2</p>
                            <p>Игрок №3 - Чел3</p>
                        </div>
                    </div>

                </li>
            </ul>

        </div>
    </div>
</nav>

    <div class="container-fluid overflow-auto bg-light" style="background-color: #c6f6d5" >
        <div class="row text-center p-2 mb-1" >
            <div class="col">
                <h5><i class="bi bi-clock-fill pe-2" style="color: gray"></i>Очередь</h5>
            </div>
            <div class="col-3 border-start">
                <h5><i class="bi bi-bar-chart-line-fill pe-2" style="color: red"></i>Анализ</h5>
                <div class="row">
                    <div class="col">
                        <h6 class="fw-light"><i class="bi bi-play-fill pe-1" style="color: deepskyblue"></i>Актив</h6>
                    </div>
                    <div class="col border-start">
                        <h6 class="fw-light"><i class="bi bi-stop-fill pe-1" style="color: darkorange"></i>Финиш</h6>
                    </div>
                </div>
            </div>
            <div class="col-3 border-start">
                <h5><i class="bi bi-journal-code pe-2" style="color: slateblue"></i>Разработка</h5>
                <div class="row">
                    <div class="col">
                        <h6 class="fw-light"><i class="bi bi-play-fill pe-1" style="color: deepskyblue"></i>Актив</h6>
                    </div>
                    <div class="col border-start">
                        <h6 class="fw-light"><i class="bi bi-stop-fill pe-1" style="color: darkorange"></i>Финиш</h6>
                    </div>
                </div>
            </div>
            <div class="col-3 border-start">
                <h5><i class="bi bi-clipboard-data pe-2" style="color: orangered"></i>Тестирование</h5>
                <div class="row">
                    <div class="col">
                        <h6 class="fw-light"><i class="bi bi-play-fill pe-1" style="color: deepskyblue"></i>Актив</h6>
                    </div>
                    <div class="col border-start">
                        <h6 class="fw-light"><i class="bi bi-stop-fill pe-1" style="color: darkorange"></i>Финиш</h6>
                    </div>
                </div>
            </div>
            <div class="col border-start ">
                <h5><i class="bi bi-check-lg pe-2" style="color: green"></i>Сделано</h5>
            </div>
        </div>
    </div>

    <div class="container-fluid overflow-auto bg-light d-flex flex-column" id="temp" style="background-color: #c6f6d5">
        <div class="row text-center text-break p-2 mb-1 flex-fill d-flex h-100 justify-content-start" id="board_container">
            <div class="col containers droppable" id="backlog_container"></div>
            <div class="col-3 border-start containers" id="analytic_container">
                <div class="row flex-fill d-flex h-100 justify-content-start">
                    <div class="col droppable_anl_proc sub_containers" id="analytic_in_process_container"></div>
                    <div class="col border-start sub_containers" id="analytic_completed_container"></div>
                </div>
            </div>
            <div class="col-3 border-start containers" id="devop_container">
                <div class="row flex-fill d-flex h-100 justify-content-start">
                    <div class="col droppable_dev_proc sub_containers" id="devop_in_process_container"></div>
                    <div class="col border-start sub_containers" id="devop_completed_container"></div>
                </div>
            </div>
            <div class="col-3 border-start containers" id="test_container">
                <div class="row flex-fill d-flex h-100 justify-content-start">
                    <div class="col droppable_test_in_proc sub_containers" id="test_in_process_container"></div>
                    <div class="col border-start sub_containers" id="test_completed_container"></div>
                </div>
            </div>
            <div class="col border-start containers" id=""></div>
        </div>
    </div>


<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>

<script>
    $(document).ready(function(){
        team_id = {{ player.team.pk }};
        backLogInitialPopulation();
    });
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>

<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
    console.log(e);
    });

    clipboard.on('error', function (e) {
    console.log(e);
    });
</script>

</body>
</html>
